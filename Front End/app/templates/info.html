
<head>
<!-- <meta http-equiv="refresh" content="20" > -->

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

</head>

<body>
<div class="container">

<center>
<nav class="navbar navbar-full navbar-light bg-faded" style="width:95%;margin-top:20px; height:100px; background-color: #38003C;">
  <a class="navbar-brand" href="/" style="padding:0px; margin-top:-30px; margin-left: -5px">
  	<img src="/static/Images/premier-league-logo-header.svg" style="float:left; width:160px; height:160px;">
  </a>
  
  <div style="width:100%;  text-align: center; margin-left: -300px">
		<div style="width:350px; height:80px; display:block; display: inline-block; margin:10px; ">
			<img src="/static/Images/Team Logos/{{home_team}}.png" style="width:80px; height:80px; margin-left:10px margin-right:10px; float:left">
			<div style="width:80px; height:80px; display:block; display: inline-block; color: white">
				<h2 style="position: inherit; top:50%; left:50%;">VS</h2>
			</div> 
			<img src="/static/Images/Team Logos/{{away_team}}.png" style="width:80px; height:80px; margin-left:10px margin-right:10px; float:right">
		</div>
	</div>

</nav>
</center>


<div class="container">
	<div class="col-md-3" style="float:left; margin-top: 40px; padding:0px">
		<div style="background-color: #F6F6F6; box-shadow: 0px 2px 10px #888888; padding:5px">
			<center><h4>{{home_team_ws}}</h4></center>
			<div>
				<ul class="list-group" id="homeHistory" style="vertical-align: middle; color:#38003C;;font-family: Arial,Helvetica Neue,Helvetica,sans-serif;">
						<script type="text/javascript">
						var current = '<center><li class="list-group-item" style="background-color:{{home_recent_results[1]}}">'+"{{home_recent_results[0]}}"+'</li>'+'<li class="list-group-item" style="background-color:{{home_recent_results[3]}}">'+"{{home_recent_results[2]}}"+'</li>'+'<li class="list-group-item" style="background-color:{{home_recent_results[5]}}">'+"{{home_recent_results[4]}}"+'</li>'+'<li class="list-group-item" style="background-color:{{home_recent_results[7]}}">'+"{{home_recent_results[6]}}"+'</li>'+'<li class="list-group-item" style="background-color:{{home_recent_results[9]}}">'+"{{home_recent_results[8]}}"+'</li></center>';
						document.getElementById('homeHistory').innerHTML = current;
						</script>
				</ul>
			</div>
		</div>

		<div class="col-md-12" style=" margin-top:30px;background-color: #F6F6F6; box-shadow: 0px 2px 5px #888888; padding:5px">
			<div>
				<center><h4>Matchup History</h4></center>
				<ul class="list-group">
					{% for head_to_head in head_to_head_results %}
					<center>
						<li class="list-group-item">{{head_to_head}}</li>
					{% endfor%}
					</center>
				</ul>
			</div>
		</div>
	</div>

	<div class="col-md-3" style="float:right; max-height: 400px; margin-top: 40px; background-color: #F6F6F6; box-shadow: 0px 2px 5px #888888; padding: 5px">
		<div style="">
			<center><h4>{{away_team_ws}}</h4></center>
			<div>
				<ul class="list-group" id="awayHistory" style="vertical-align: middle; color:#38003C;font-family: Arial,Helvetica Neue,Helvetica,sans-serif;">
					<script type="text/javascript">
						var current = '<center><li class="list-group-item" style="background-color:{{away_recent_results[1]}}">'+"{{away_recent_results[0]}}"+'</li>'+'<li class="list-group-item" style="background-color:{{away_recent_results[3]}}">'+"{{away_recent_results[2]}}"+'</li>'+'<li class="list-group-item" style="background-color:{{away_recent_results[5]}}">'+"{{away_recent_results[4]}}"+'</li>'+'<li class="list-group-item" style="background-color:{{away_recent_results[7]}}">'+"{{away_recent_results[6]}}"+'</li>'+'<li class="list-group-item" style="background-color:{{away_recent_results[9]}}">'+"{{away_recent_results[8]}}"+'</li></center>';
						document.getElementById('awayHistory').innerHTML = current;
					</script>
				</ul>
			</div>
		</div>
	</div>

	<div class="col-md-6" style="margin-top:40px;">
		<div style="height:250px; background-color: #F6F6F6; box-shadow: 0px 2px 5px #888888;">
			<table class="table">
			  <thead class="thead-inverse">
			    <tr>
			      <th>Betting Service</th>
			      <th><center>{{home_team_ws}}</center></th>
			      <th><center>Draw</center></th>
			      <th><center>{{away_team_ws}}</center></th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr>
			      <th scope="row"><a href="https://www.skybet.com/football/premier-league"><img src="/static/Images/Sky_Bet.png" style="width:100px; height:30px"></a></th>
			      <td><center>{{sb_home_win}}</center></td>
			      <td><center>{{sb_draw}}</center></td>
			      <td><center>{{sb_away_win}}</center></td>
			    </tr>
			    <tr>
			      <th scope="row"><a href="http://sports.williamhill.com/bet/en-gb/betting/t/295/English-Premier-League.html"><img src="/static/Images/William_Hill.png" style="width:100px; height:30px"></a></th>
			      <td><center>{{wh_home_win}}</center></td>
			      <td><center>{{wh_draw}}</center></td>
			      <td><center>{{wh_away_win}}</center></td>
			    </tr>
			    <tr>
			      <th scope="row"><a href="http://www.betvictor.com/en/sports/coupons/football-premier-league-matches"><img src="/static/Images/betvictor.png" style="width:100px; height:30px"></a></th>
			      <td><center>{{bv_home_win}}</center></td>
			      <td><center>{{bv_draw}}</center></td>
			      <td><center>{{bv_away_win}}</center></td>
			    </tr>
			  </tbody>
			</table>
		</div>

		<div class="col-md-12" style="height:125px; margin-top: 30px; background-color: #F6F6F6; box-shadow: 0px 2px 5px #888888;">
			<div>
				<br>
				<center>
				<table class="table" style="vertical-align: middle; color:#38003C;font-family: Arial,Helvetica Neue,Helvetica,sans-serif;">
				  <thead class="thead-inverse">
				    <tr>
				      <th><center>{{home_team_ws}} to win</center></th>
				      <th><center>Draw</center></th>
				      <th><center>{{away_team_ws}} to win</center></th>
				    </tr>
				  </thead>
				  <tbody>
				    <tr>
				      <td><center>{{predictions[0]}}</center></td>
				      <td><center>{{predictions[1]}}</center></td>
				      <td><center>{{predictions[2]}}</center></td>
				    </tr>
				  </tbody>
				</table>
				</center>
			</div>
		</div>

	</div>

	<div class="col-md-3" style="float:right; max-height: 400px; margin-top:30px; background-color: #F6F6F6; box-shadow: 0px 2px 5px #888888;">
		<div style=" padding:7px;">
			<center><h4>Bet Calculator</h4></center><br>
			<form name="info" id="info" method="" action="getBet()">
                <!-- <label class="checkbox-inline"><input type="radio" name="bettingsites" id ="skyid" value="skyvalue" />Sky Bet</label>
                <label class="checkbox-inline"><input type="radio" name="bettingsites" id ="williamid" value="williamvalue" />William Hill</label>
                <label class="checkbox-inline"><input type="radio" name="bettingsites" id="victorid" value="victorvalue" />Bet Victor</label> -->
                <label for="sel1">Select Betting Service:</label>
				  <select class="form-control" id="sel1" name="bettingsites">
				    <option>SkyBet</option>
				    <option>William Hill</option>
				    <option>BetVictor</option>
				  </select>
                <br>
                <!-- <label class="checkbox-inline"><input type="radio" name="test" id ="homeid" value="Home" />&nbsp;Home</label>
                <label class="checkbox-inline"><input type="radio" name="test" id ="drawid" value="Draw" />&nbsp;Draw</label>
                <label class="checkbox-inline"><input type="radio" name="test" id="awayid" value="Away" />&nbsp;Away</label> -->

                <label for="sel2">Select outcome:</label>
				  <select class="form-control" id="sel2" name="outcome">
				    <option>Home to win</option>
				    <option>Away to win</option>
				    <option>Draw</option>
				  </select>

                <br>
                <input type="number" name="betamount" id="betamount" value="">
                <input type="button" onclick="getBet()" value="Bet Now" />
                <br>
                <br>
                <div class="panel panel-default">
				  <div class="panel-body"><center><h4 id="betresult"></h4></center></div>
				</div>
			</form>
		</div>
	</div>

	<script>
		function getBet() {
		    var site = document.forms["info"]["bettingsites"].value;
		    var outcome = document.forms["info"]["outcome"].value;
		    var amount = document.forms["info"]["betamount"].value;
		    var result = 0;
		    if (site == "") {
		        alert("Please specify the site you would like to use");
		        return false;
		    }
		    if (outcome == "") {
		        alert("Please specify the outcome you want to bet on");
		        return false;
		    }
		    if (amount == "") {
		        alert("please specify the amount you would like to bet");
		        return false;
		    }
		    // alert(site+" "+outcome+" "+amount);
		    switch(site)
		    {
		    	case "SkyBet":
		    		var home = "{{sb_home_win}}";
		        	var away = "{{sb_away_win}}";
		        	var draw = "{{sb_draw}}";
		        	switch(outcome)
		            {
		                case "Home to win":
		                     result = parseFloat(((eval(home) * amount))).toFixed(2);
		                break;
		                case "Draw":
							result = parseFloat(((eval(draw) * amount))).toFixed(2);
		                break;
		                case "Away to win":
							result = parseFloat(((eval(away) * amount))).toFixed(2);
		                break;
		            }
		        break;
		        
		        case "William Hill":
		        	var home = "{{wh_home_win}}";
		        	var away = "{{wh_away_win}}";
		        	var draw = "{{wh_draw}}";
		        	switch(outcome)
		            {
		                case "Home to win":
		                	result = parseFloat(((eval(home) * amount))).toFixed(2);
		                break;
		                case "Draw":
		                	result = parseFloat(((eval(draw) * amount))).toFixed(2);
		                break;
		                case "Away to win":
		                	result = parseFloat(((eval(away) * amount))).toFixed(2);
		                break;
		            }
		        break;
		        
		        case "BetVictor":
		        	var home = "{{bv_home_win}}";
		        	var away = "{{bv_away_win}}";
		        	var draw = "{{bv_draw}}";
		        	switch(outcome)
		            {
		                case "Home to win":
		                	result = parseFloat(((eval(home) * amount))).toFixed(2);
		                break;
		                case "Draw":
		                	console.log(eval(away));
		                	result = parseFloat(((eval(draw) * amount))).toFixed(2);
		                break;
		                case "Away to win":
		                	result = parseFloat(((eval(away) * amount))).toFixed(2);
		                break;
		            }
		        break;
		    }
		     document.getElementById("betresult").innerHTML = "<h4>Payout = "+result+"</h4>"; // the amount of money received
		     // alert(result);
		}
		</script>
</div>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</body>


